(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();const Le="https://your-energy.b.goit.study/api";async function q(e,t){const r=typeof e=="string"&&e.startsWith("/api/")?e.slice(4):e,s=r.startsWith("http")?r:`${Le}${r.startsWith("/")?"":"/"}${r}`,n=await fetch(s,t);if(n.status===204)return null;let o=null;try{o=await n.json()}catch{}if(!n.ok){const i=(o==null?void 0:o.message)||(o==null?void 0:o.error)||n.statusText||"Request failed",l=new Error(i);throw l.status=n.status,l.payload=o,l}return o}const d=(e,t=document)=>t.querySelector(e),O=(e,t=document)=>Array.from(t.querySelectorAll(e)),c=e=>document.getElementById(e),h=(e,t,r,s)=>{e&&e.addEventListener(t,r,s)},R=(e,t,r,s)=>{e&&e.addEventListener(t,n=>{const o=n.target instanceof Element?n.target.closest(r):null;o&&e.contains(o)&&s(n,o)})},u=(e,t)=>{e&&(e.textContent=t)},C=(e,t,r)=>{e&&e.setAttribute(t,String(r))};function G(e,t=null){try{const r=localStorage.getItem(e);return r?JSON.parse(r):t}catch{return t}}function H(e,t){try{return localStorage.setItem(e,JSON.stringify(t)),!0}catch{return!1}}const Y="favorites";function K(){return G(Y,[])}function we(e){try{const t=K();return t.includes(e)?!1:(t.push(e),H(Y,t),!0)}catch{return!1}}function oe(e){try{const r=K().filter(s=>s!==e);return H(Y,r),!0}catch{return!1}}function z(e){return K().includes(e)}function je(e){return z(e)?(oe(e),!1):(we(e),!0)}let S=null;function ie(e,t="success"){const r=document.getElementById("js-global-notification"),s=document.getElementById("js-global-notification-text");!r||!s||(S&&(clearTimeout(S),S=null),s.textContent=e,r.classList.remove("global-notification--error"),t==="error"&&r.classList.add("global-notification--error"),r.classList.add("global-notification--visible"),S=setTimeout(()=>{ae()},3e3))}function ae(){const e=document.getElementById("js-global-notification"),t=document.getElementById("js-global-notification-text");e&&(S&&(clearTimeout(S),S=null),e.classList.remove("global-notification--visible"),setTimeout(()=>{t&&(t.textContent=""),e.classList.remove("global-notification--error")},300))}function Ce(){const e=document.getElementById("js-global-notification-close");e&&e.addEventListener("click",ae)}function A(e,t,r){if(e){const s=e.classList.contains("rating-modal__textarea")?"rating-modal__textarea--error":e.classList.contains("rating-modal__input")?"rating-modal__input--error":e.classList.contains("footer__subscribe-form-input")?"footer__subscribe-form-input--error":"form-field--error";e.classList.add(s)}t&&(t.textContent=r,t.classList.add("form-error--visible"))}function p(e,t){e&&e.classList.remove("rating-modal__input--error","rating-modal__textarea--error","footer__subscribe-form-input--error","form-field--error"),t&&(t.textContent="",t.classList.remove("form-error--visible"))}function ce(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}let P=null;function ke(e,t="error"){const r=document.getElementById("js-rating-server-message"),s=document.getElementById("js-rating-server-message-text");!r||!s||(s.textContent=e,r.classList.remove("rating-modal__server-message--error","rating-modal__server-message--success"),r.classList.add(`rating-modal__server-message--${t}`),r.classList.add("rating-modal__server-message--visible"))}function V(){const e=document.getElementById("js-rating-server-message"),t=document.getElementById("js-rating-server-message-text");e&&(e.classList.remove("rating-modal__server-message--visible"),t&&(t.textContent=""),e.classList.remove("rating-modal__server-message--error","rating-modal__server-message--success"))}function N(){const e=document.getElementById("js-rating-modal");if(!e)return;e.classList.remove("rating-modal--open"),document.body.style.overflow="",P=null;const t=document.getElementById("js-rating-modal-email"),r=document.getElementById("js-email-error"),s=document.getElementById("js-rating-modal-comment"),n=document.getElementById("js-comment-error"),o=document.getElementById("js-rating-error");p(t,r),p(s,n),p(null,o),V()}function Be(e){const t=document.getElementById("js-rating-modal");if(!t)return;P=e;const r=document.getElementById("js-rating-modal-form"),s=document.getElementById("js-rating-modal-email"),n=document.getElementById("js-rating-modal-comment"),o=document.getElementById("js-rating-modal-value"),i=document.querySelectorAll(".rating-modal__star");r&&r.reset(),o&&(o.textContent="0.0");const l=document.getElementById("js-email-error"),v=document.getElementById("js-comment-error"),_=document.getElementById("js-rating-error");p(s,l),p(n,v),p(null,_),V(),i.forEach(f=>{f.classList.remove("rating-modal__star--active");const k=f.querySelector("svg");if(k){const y=k.querySelector("path");y&&(y.setAttribute("fill","none"),y.setAttribute("stroke","currentColor"))}}),t.classList.add("rating-modal--open"),document.body.style.overflow="hidden"}function Ie(){const e=document.getElementById("js-rating-modal-close"),t=document.getElementById("js-rating-modal"),r=t==null?void 0:t.querySelector(".rating-modal__overlay");e&&e.addEventListener("click",N),r&&r.addEventListener("click",N);const s=document.getElementById("js-rating-server-message-close");s&&s.addEventListener("click",V);const n=document.querySelectorAll(".rating-modal__star"),o=document.getElementById("js-rating-modal-value");let i=0;n.forEach((y,B)=>{y.addEventListener("click",()=>{i=B+1,o&&(o.textContent=i.toFixed(1)),n.forEach((g,x)=>{if(x<i){g.classList.add("rating-modal__star--active");const b=g.querySelector("svg");if(b){const E=b.querySelector("path");E&&(E.setAttribute("fill","#EEA10C"),E.setAttribute("stroke","#EEA10C"))}}else{g.classList.remove("rating-modal__star--active");const b=g.querySelector("svg");if(b){const E=b.querySelector("path");E&&(E.setAttribute("fill","none"),E.setAttribute("stroke","currentColor"))}}})}),y.addEventListener("mouseenter",()=>{const g=B+1;n.forEach((x,b)=>{b<g&&!x.classList.contains("rating-modal__star--active")&&(x.style.color="rgba(255, 255, 255, 0.6)")})}),y.addEventListener("mouseleave",()=>{n.forEach((g,x)=>{g.classList.contains("rating-modal__star--active")||(g.style.color="rgba(255, 255, 255, 0.3)")})})});const l=document.getElementById("js-rating-modal-email"),v=document.getElementById("js-email-error"),_=document.getElementById("js-rating-modal-comment"),f=document.getElementById("js-comment-error");l&&v&&l.addEventListener("input",()=>{p(l,v)}),_&&f&&_.addEventListener("input",()=>{p(_,f)}),n.forEach(y=>{y.addEventListener("click",()=>{const B=document.getElementById("js-rating-error");B&&p(null,B)})});const k=document.getElementById("js-rating-modal-form");k&&k.addEventListener("submit",y=>{y.preventDefault();const B=document.querySelectorAll(".rating-modal__star"),g=document.getElementById("js-rating-modal-email"),x=document.getElementById("js-rating-modal-comment"),b=document.getElementById("js-email-error"),E=document.getElementById("js-comment-error"),te=document.getElementById("js-rating-error");let $=0,M=!1;B.forEach((w,I)=>{w.classList.contains("rating-modal__star--active")&&($=Math.max($,I+1))}),$===0?(A(null,te,"Please select a rating"),M=!0):p(null,te);const D=(g==null?void 0:g.value.trim())||"",re=(x==null?void 0:x.value.trim())||"";D?ce(D)?p(g,b):(A(g,b,"Please enter a valid email address"),M=!0):(A(g,b,"Please enter your email"),M=!0),re?p(x,E):(A(x,E,"Please enter your comment"),M=!0),!M&&P&&(V(),fetch(`https://your-energy.b.goit.study/api/exercises/${P}/rating`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({rate:$,email:D,review:re})}).then(async w=>{const I=await w.json();if(!w.ok)throw{message:I.message,data:I};return I}).then(w=>{N(),w.name,ie("Thank you, your review for exercise has been submitted","success")}).catch(w=>{const I=w.message||"Failed to submit rating. Please try again.";ke(I,"error")}))})}const le="page";let L="home";function de(e){O(".header__nav-link").forEach(t=>{t.classList.toggle("header__nav-link--active",t.getAttribute("data-page")===e)}),O(".mobile-menu__nav-link").forEach(t=>{t.classList.toggle("mobile-menu__nav-link--active",t.getAttribute("data-page")===e)})}function Se(){const e=d(".mobile-menu");e&&(e.classList.add("is-open"),document.body.style.overflow="hidden")}function J(){const e=d(".mobile-menu");e&&(e.classList.remove("is-open"),document.body.style.overflow="")}function se(e){L!==e&&(L=e,de(L),L==="home"?be():Ee(),H(le,L))}function Ae(){return L}function qe(){const e=G(le,null);(e==="home"||e==="favorites")&&(L=e),de(L),L==="home"?be():Ee(),R(document,"click",".header__nav-link",(r,s)=>{r.preventDefault();const n=s.getAttribute("data-page");(n==="home"||n==="favorites")&&se(n)}),h(d(".header__burger"),"click",Se),h(d(".mobile-menu__close"),"click",J),R(document,"click",".mobile-menu__nav-link",(r,s)=>{r.preventDefault();const n=s.getAttribute("data-page");(n==="home"||n==="favorites")&&(se(n),J())});const t=d(".mobile-menu");h(t,"click",r=>{r.target===t&&J()})}let j=null;function Q(){return c("js-exercise-modal")}function T(){const e=Q();e&&(e.classList.remove("exercise-modal--open"),document.body.style.overflow="",j=null)}function ue(e){const t=c("js-exercise-modal-favorites");if(!t)return;const r=z(e),s=t.querySelector("span"),n=t.querySelector("svg path");t.classList.toggle("active",r),s&&(s.textContent=r?"Remove from favorites":"Add to favorites"),n&&(r?(C(n,"fill","currentColor"),n.removeAttribute("stroke"),n.removeAttribute("stroke-width")):(C(n,"fill","none"),C(n,"stroke","currentColor"),C(n,"stroke-width","2")))}function me(e,t){if(!e)return;const r=O(".exercise-modal__rating-star",e),s=Math.round(Number(t||0));r.forEach((n,o)=>{const i=n.querySelector("path");i&&(o<s?(C(i,"fill","#EEA10C"),i.removeAttribute("stroke"),i.removeAttribute("stroke-width")):(C(i,"fill","none"),C(i,"stroke","rgba(255,255,255,0.3)"),C(i,"stroke-width","1.5")))})}function Me(){const e=c("js-exercise-modal-image"),t=c("js-exercise-modal-title"),r=d(".exercise-modal__rating-value"),s=d(".exercise-modal__rating-stars"),n=c("js-exercise-modal-target"),o=c("js-exercise-modal-body-part"),i=c("js-exercise-modal-equipment"),l=c("js-exercise-modal-popular"),v=c("js-exercise-modal-calories"),_=c("js-exercise-modal-time"),f=c("js-exercise-modal-description");u(t,"Loading..."),u(r,"0.0"),u(n,""),u(o,""),u(i,""),u(l,"0"),u(v,"0"),u(_,"/0 min"),u(f,""),e&&(e.src=""),me(s,0)}function Te(e){const t=c("js-exercise-modal-image"),r=c("js-exercise-modal-title"),s=d(".exercise-modal__rating-value"),n=d(".exercise-modal__rating-stars"),o=c("js-exercise-modal-target"),i=c("js-exercise-modal-body-part"),l=c("js-exercise-modal-equipment"),v=c("js-exercise-modal-popular"),_=c("js-exercise-modal-calories"),f=c("js-exercise-modal-time"),k=c("js-exercise-modal-description");t&&(t.src=e.gifUrl||""),u(r,e.name||""),u(o,e.target||""),u(i,e.bodyPart||""),u(l,e.equipment||""),u(v,e.popularity||0),u(_,e.burnedCalories||0),u(f,`/${e.time||0} min`),u(k,e.description||"");const y=Number(e.rating||0);u(s,y.toFixed(1)),me(n,y)}async function Fe(e){const t=Q();if(t){j=e,t.classList.add("exercise-modal--open"),document.body.style.overflow="hidden",Me();try{const r=await q(`/exercises/${e}`);if(j!==e)return;Te(r),ue(e)}catch{const r=c("js-exercise-modal-title"),s=c("js-exercise-modal-description");u(r,"Error loading exercise"),u(s,"Failed to load exercise details. Please try again later.")}}}function $e(){const e=Q();if(!e)return;const t=c("js-exercise-modal-close"),r=e.querySelector(".exercise-modal__overlay");h(t,"click",T),h(r,"click",T),h(c("js-exercise-modal-favorites"),"click",()=>{if(!j)return;const s=je(j);ue(j),!s&&Ae()==="favorites"&&(T(),he())}),h(c("js-exercise-modal-rating-btn"),"click",()=>{if(!j)return;const s=j;T(),Be(s)})}const m={cards:".exercises__cards",pagination:".exercises__pagination",filters:".exercises__filter",searchWrap:"#js-exercises-search",searchInput:"#js-exercises-search-input",breadcrumbs:"#js-exercises-breadcrumbs",homeHero:".home__hero",controls:".exercises__controls",sidebarImage:".exercises__aside-image",dailyNorm:".exercises__norm",favoritesPromo:".exercises__favorites-promo",exercisesBlock:".exercises",homeBlock:".home"},a={filter:"Muscles",page:1,category:null,search:"",mode:"home"};function Ne(){const e=d(m.searchWrap);e&&(e.style.display="flex")}function fe(){const e=d(m.searchWrap),t=d(m.searchInput);e&&(e.style.display="none"),t&&(t.value=""),a.search=""}function ge(e){const t=d(m.homeHero),r=d(m.controls),s=d(m.sidebarImage),n=d(m.dailyNorm),o=d(m.favoritesPromo),i=d(m.homeBlock),l=d(m.exercisesBlock);t&&(t.style.display=e?"flex":"none"),r&&(r.style.display=e?"flex":"none"),s&&(s.style.display=e?"block":"none"),n&&(n.style.display=e?"flex":"none"),o&&(o.style.display=e?"none":"grid"),i&&i.classList.toggle("home--favorites",!e),l&&l.classList.toggle("exercises--favorites",!e)}function Z(e){O(m.filters).forEach(t=>{t.classList.toggle("exercises__filter--active",t.getAttribute("data-filter")===e)})}function F(e,t){const r=d(m.cards);r&&(r.classList.toggle("exercises__cards--items",!!t),r.innerHTML=e)}function W(e){F(`
    <div class="exercises__empty-state">
      <p class="exercises__empty-text">${e}</p>
    </div>
  `,!0)}function X(){const e=d(m.pagination);e&&(e.innerHTML="")}function pe(e,t){const r=d(m.pagination);if(!r||(r.innerHTML="",!e||e<=1))return;const s=i=>{a.page=i,a.mode!=="favorites"&&(a.category?_e(a.category,i,a.search):ye(a.filter,i))},n=(i,l,v,_)=>{const f=document.createElement("button");return f.type="button",f.className=_,f.disabled=l,f.innerHTML=i,f.addEventListener("click",v),f};r.appendChild(n("&laquo;",t===1,()=>s(1),"exercises__pagination-arrow")),r.appendChild(n("&lsaquo;",t===1,()=>s(t-1),"exercises__pagination-arrow"));const o=i=>{const l=n(String(i),!1,()=>s(i),"exercises__pagination-page");return i===t&&l.classList.add("exercises__pagination-page--active"),l};if(e<=5)for(let i=1;i<=e;i+=1)r.appendChild(o(i));else{t>2&&(r.appendChild(o(t-2)),r.appendChild(o(t-1))),r.appendChild(o(t));const i=document.createElement("span");i.className="exercises__pagination-ellipsis",i.textContent="...",r.appendChild(i),r.appendChild(o(e-1)),r.appendChild(o(e))}r.appendChild(n("&rsaquo;",t===e,()=>s(t+1),"exercises__pagination-arrow")),r.appendChild(n("&raquo;",t===e,()=>s(e),"exercises__pagination-arrow"))}function Oe(e){return`
    <li class="exercise-card" data-category-name="${e.name}">
      <div class="exercise-card__image">
        <img src="${e.imgURL}" alt="${e.name} exercise" loading="lazy" decoding="async" />
        <div class="exercise-card__overlay">
          <div class="exercise-card__overlay-name">${e.name}</div>
          <div class="exercise-card__overlay-category">${e.filter}</div>
        </div>
      </div>
    </li>
  `}function ve(e){const t=Number(e.rating||0),r=Number(e.burnedCalories||0),s=Number(e.time||0),n=e.bodyPart||"",o=e.target||"",i=e._id||"",v=a.mode==="favorites"?`
      <button class="exercise-card__delete" type="button" aria-label="Remove from favorites">
  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M10.6667 4.00004V3.46671C10.6667 2.71997 10.6667 2.3466 10.5213 2.06139C10.3935 1.8105 10.1895 1.60653 9.93865 1.4787C9.65344 1.33337 9.28007 1.33337 8.53333 1.33337H7.46667C6.71993 1.33337 6.34656 1.33337 6.06135 1.4787C5.81046 1.60653 5.60649 1.8105 5.47866 2.06139C5.33333 2.3466 5.33333 2.71997 5.33333 3.46671V4.00004M6.66667 7.66671V11M9.33333 7.66671V11M2 4.00004H14M12.6667 4.00004V11.4667C12.6667 12.5868 12.6667 13.1469 12.4487 13.5747C12.2569 13.951 11.951 14.257 11.5746 14.4487C11.1468 14.6667 10.5868 14.6667 9.46667 14.6667H6.53333C5.41323 14.6667 4.85318 14.6667 4.42535 14.4487C4.04903 14.257 3.74307 13.951 3.55132 13.5747C3.33333 13.1469 3.33333 12.5868 3.33333 11.4667V4.00004" stroke="#242424" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
      </button>
    `:"";return`
    <li class="exercise-card exercise-card--details" data-exercise-id="${i}">
      <div class="exercise-card__header">
        <button class="exercise-card__badge" type="button">WORKOUT</button>
        ${v}
        <div class="exercise-card__rating">
          <span class="exercise-card__rating-value">${t.toFixed(1)}</span>
          <svg class="exercises__content__main__cards-item-rating-star" width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M9 0L11.0206 6.21885L17.5595 6.21885L12.2694 10.0623L14.2901 16.2812L9 12.4377L3.70993 16.2812L5.73056 10.0623L0.440492 6.21885L6.97937 6.21885L9 0Z" fill="#EEA10C"/>
          </svg>
        </div>
        <button class="exercise-card__start" type="button">
          Start
          <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M6.75 4.5L11.25 9L6.75 13.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </div>
      <div class="exercise-card__body">
        <div class="exercise-card__icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M2 17L12 22L22 17" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M2 12L12 17L22 12" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <h3 class="exercise-card__title">${e.name}</h3>
      </div>
      <div class="exercise-card__footer">
        <div class="exercise-card__info">
          <span class="exercise-card__info-label">Burned calories:</span>
          <span class="exercise-card__info-value">${r}</span>
          <span class="exercise-card__info-label">/ ${s} min</span>
        </div>
        <div class="exercise-card__info">
          <span class="exercise-card__info-label">Body part:</span>
          <span class="exercise-card__info-value">${n}</span>
        </div>
        <div class="exercise-card__info">
          <span class="exercise-card__info-label">Target:</span>
          <span class="exercise-card__info-value">${o}</span>
        </div>
      </div>
    </li>
  `}function ee(e=null){const t=d(m.breadcrumbs);if(!t)return;if(t.innerHTML="",a.mode==="favorites"){const s=document.createElement("li");s.className="exercises__breadcrumb-item exercises__breadcrumb-item--active",s.textContent="Favorites",s.setAttribute("data-breadcrumb","favorites"),t.appendChild(s);return}const r=document.createElement("li");if(r.className="exercises__breadcrumb-item",r.textContent="Exercises",r.setAttribute("data-breadcrumb","exercises"),e||r.classList.add("exercises__breadcrumb-item--active"),h(r,"click",()=>{a.category=null,a.page=1,U(a.filter,1)}),t.appendChild(r),e){const s=document.createElement("li");s.className="exercises__breadcrumb-separator",s.textContent="/",t.appendChild(s);const n=document.createElement("li");n.className="exercises__breadcrumb-item exercises__breadcrumb-item--active",n.textContent=e,t.appendChild(n)}}async function ye(e,t=1){const r=encodeURIComponent(e),s=await q(`/filters?filter=${r}&page=${t}`),n=(s==null?void 0:s.results)||(s==null?void 0:s.exercises)||s||[],o=(s==null?void 0:s.totalPages)||(s==null?void 0:s.total_pages)||(s==null?void 0:s.pageCount)||1;if(ee(null),fe(),Array.isArray(n)&&n.length){const i=n.map(Oe).join("");F(i,!1),pe(o,t)}else F("",!1),X()}async function _e(e,t=1,r=a.search){if(!a.filter||!e){console.warn("Filter and category are required, request skipped");return}Ne();const n={Muscles:"muscles","Body parts":"bodypart",Equipment:"equipment"}[a.filter];if(!n){console.warn("Unknown filter type, request skipped");return}const o=new URLSearchParams;o.set(n,e),o.set("page",String(t)),o.set("limit","10"),r&&String(r).trim()&&o.set("keyword",String(r).trim());const i=await q(`/exercises?${o.toString()}`),l=(i==null?void 0:i.results)||[],v=(i==null?void 0:i.totalPages)||1;if(!l.length){W("No exercises found"),X();return}const _=l.map(ve).join("");F(_,!0),pe(v,t),a.page=t}async function he(){a.mode="favorites",ee(null),fe(),X();const e=K();if(!e.length){W("It appears that you haven't added any exercises to your favorites yet. To get started, add exercises you like to your favorites for easier access in the future.");return}const r=(await Promise.all(e.map(async s=>{try{return await q(`/exercises/${s}`)}catch{return null}}))).filter(Boolean);r.length?F(r.map(ve).join(""),!0):W("It appears that you haven't added any exercises to your favorites yet. To get started, add exercises you like to your favorites for easier access in the future.")}function U(e,t=1){return a.filter=e,a.page=t,a.category=null,a.search="",a.mode="home",Z(e),ye(e,t)}function xe(e,t=1,r=a.search){return a.category=e,a.page=t,a.search=r||"",a.mode="home",_e(e,t,a.search)}function be(){a.mode="home",a.category=null,a.search="",ge(!0),U(a.filter,1)}function Ee(){a.mode="favorites",a.category=null,a.search="",ge(!1),he()}function Re(){const e=d(m.searchInput);if(!e)return;let t=null;h(e,"input",()=>{t&&clearTimeout(t),t=setTimeout(()=>{const r=e.value.trim();a.category&&xe(a.category,1,r)},350)})}function Pe(){R(document,"click",m.filters,(e,t)=>{const r=t.getAttribute("data-filter");r&&(Z(r),ee(null),U(r,1))})}function Ve(){const e=d(m.cards);e&&R(e,"click",".exercise-card",(t,r)=>{const s=r.getAttribute("data-category-name");if(s){xe(s,1);return}if(t.target instanceof Element?t.target.closest(".exercise-card__delete"):null){const i=r.getAttribute("data-exercise-id");i&&z(i)&&(oe(i),r.remove());return}const o=r.getAttribute("data-exercise-id");o&&Fe(o)})}function He(){Pe(),Re(),Ve(),Z(a.filter)}const ne="quote_cache_v1";function Ke(){return new Date().toISOString().slice(0,10)}async function Ue(){const e=G(ne,null),t=Ke();if(e&&e.date===t&&e.quote&&e.author)return e;try{const r=await q("/quote"),s={date:t,quote:r.quote,author:r.author};return H(ne,s),s}catch{return e&&e.quote&&e.author?e:null}}async function De(){const e=await Ue();e&&(u(c("js-quote-text"),e.quote),u(c("js-quote-author"),e.author))}De();async function Je(e){try{const t=await q("/subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.trim()})});return{ok:!0,message:(t==null?void 0:t.message)||"Subscribed!"}}catch(t){return(t==null?void 0:t.status)===409?{ok:!1,message:"Email already exist"}:{ok:!1,message:(t==null?void 0:t.message)||"Something wrong. Failed to subscribe"}}}function We(){const e=document.getElementById("subscribeForm"),t=document.getElementById("subscribeEmail"),r=document.getElementById("subscribeEmailError");!e||!t||!r||(h(t,"input",()=>p(t,r)),h(e,"submit",async s=>{s.preventDefault();const n=t.value.trim();if(!n){A(t,r,"Please enter your email address");return}if(!ce(n)){A(t,r,"Please enter a valid email address");return}p(t,r);const o=await Je(n);ie(o.message,o.ok?"success":"error"),o.ok&&(e.reset(),p(t,r))}))}function Ge(){h(document,"keydown",e=>{e.key==="Escape"&&(T(),N())})}document.addEventListener("DOMContentLoaded",()=>{$e(),Ie(),Ce(),qe(),He(),We(),Ge(),U("Muscles",1)});
//# sourceMappingURL=index.js.map
